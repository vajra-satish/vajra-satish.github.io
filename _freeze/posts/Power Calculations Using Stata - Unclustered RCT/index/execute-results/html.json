{
  "hash": "b6ce67b7e6cadf10116eb3bbf6fcbc42",
  "result": {
    "markdown": "---\ntitle: \"Power Calculations Using Stata: Unclustered RCT\"\nauthor: \"Satish Bajracharya\"\ndate: \"2023-11-07\"\ncategories: [Power Calculations, Survey]\nimage: \"image.jpg\"\nengine: \"knitr\"\n---\n\n\nIn this section, we calculate the power for individually randomized experiments. Suppose we want to calculate the sample size required for a randomized control trial(RCT) for a program intervention, where equal number of people are assigned to the treatment and control groups. We fix a test size ($\\alpha$) of 0.5 to calculate the sample size required to detect a 0.1 standard deviation effect size with 80% power. We use a standard deviation value of 1.   \n\n::: {.callout-tip}\n## Power Calculations\n\nTo know more about the theoretical approach to power calculations, check my previous blog [here](https://vajra-satish.github.io/blogs/Power%20Calculations%20in%20RCT%20-%20Without%20Clusters%20(Theory)/)\n:::\n\n##### Execution in R\n\nWe use the **pwr** package in R to calculate the sample size for individually randomized experiments. We use the **pwr.t.test()** function with arguments n, d, sig.level, power, and type. The default standard deviation value is 1 so we do not need to specify it. A brief description of the arguments is given below:\n\n| Arguments  | Description  |\n|--------|--------|\n| n  | Number of observations (per sample) |\n| d   | Effect size   |\n| sig.level | Significance level (Type I error probability) |\n|power | Type of t test |\n\nTo run the **pwr.t.test()** funcntion we need to install the *pwr* package with the install.packages command. Watch this [video](https://www.youtube.com/watch?v=-wTcDqJWSzA) to learn how to install packages in R. \n\nTo test a 0.1 standard deviation effect size with standard deviation of 1, we set the minimum detectable effect to 0.1. The *power.t.test()* will give the sample size required to detect 0.1 standard deviation effect size, which is the difference between the treatment and control mean.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the pwr package\nlibrary(pwr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'pwr' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\n# Run the pwr.t.test function\npwr.t.test(n = NULL, \n           d = 0.1,\n           sig.level = 0.05,\n           power = 0.8,\n           type = \"two.sample\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n     Two-sample t test power calculation \n\n              n = 1570.733\n              d = 0.1\n      sig.level = 0.05\n          power = 0.8\n    alternative = two.sided\n\nNOTE: n is number in *each* group\n```\n:::\n:::\n\n::: {.cell engine.path='C:/Stata15/Stata-64.exe'}\n\n```{.stata .cell-code}\npower twomeans 0 0.01\n```\n\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\n. power twomeans 0 0.01\n\nPerforming iteration Estimated sample sizes for a two-sample means test\nt test assuming sd1 = sd2 = sd\nHo: m2 = m1  versus  Ha: m2 != m1\n\nStudy parameters:\n\n        alpha =    0.0500\n        power =    0.8000\n        delta =    0.0100\n           m1 =    0.0000\n           m2 =    0.0100\n           sd =    1.0000\n\nEstimated sample sizes:\n\n            N =   313,958\n  N per group =   156,979\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}