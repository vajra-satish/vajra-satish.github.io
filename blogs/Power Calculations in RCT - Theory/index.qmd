---
title: "Power Calculation in RCT: Theory"
author: "Satish Bajracharrya"
date: "2024-03-12"
categories: [Survey design and framework]
image: "image.jpg"
---

# Introduction to power calculations

Power calculations play a critical role in determining the number of people or households to include in a Randomized Control Trial (RCT). Further, statistical tests are prone to type 1 and type 2 errors. We can reduce the probability of such errors by increasing the sample size. However, in practice, sample size is determined by the amount of resources at hand since there is a trade off between the sample size and the cost of data collection.

Spillovers in RCTs are also a cause of concern for researchers. As a result, we might also use clusters in RCT to tackle spillovers effects. However, clustering often requires a larger sample size as we are stratifying the sample into different clusters.

::: callout-note
Clustered RCTs are more prone to type 1 and type 2 errors than an unclustered RCT design with the same number of individuals or households. The way we assign individuals to different experimental groups can also reduce the incidence of type 1 and type 2 errors. For instance, using characteristics such as gender to stratify the randomization.
:::

# Type 1 and type 2 errors

When conducting RCTs, we are guided by the principle of conservatism. We do not want to promote costly policy changes without evidence. We stack the deck against ourselves by making an assumption that there is no impact made by the intervention. Given this assumption, we check whether our data is consistent with this assumption.This assumption is called the null hypothesis, which denoted by $H_0$. While making inference, we are prone to these two types of errors which are shown below.

| Test Statistic | $H_0=T$           | $H_0=F$           |
|----------------|:------------------|:------------------|
| $t<=2$         | Correct Inference | Type 2 error      |
| $t>=2$         | Type 1 error      | Correct inference |

: Type 1 and type 2 errors

::: callout-note
Type 1 error occurs when we incorrectly reject the null hypothesis $H_0$ when it is actually true. Type 2 error occurs when we fail to reject the $H_0$ when it is actually false.
:::

# Statistical power

By understanding the type 1 and type 2 errors, we can calibrate the power of a statistical test. Power of a statistical test is the probability of rejecting a null hypothesis $H_0$ when it is false.In general, it is the likelihood of not making a type 2 error. $$Power (\kappa): 0<\kappa<1$$

The level of significance determines how conservative or cautious we want to be in jumping to conclusion about the effectiveness of an intervention. The significance level determines the chance of making type 1 error. It is also referred as the size of a test denoted by $\alpha$. We would like to make sure we reject $H_0$ when there is an effect. More power means we have a better chance to do so. 

# What determines power?

- Effect size ($\beta$): When running a RCT, the effect size is the difference between the average outcome of the control and treatment group. A large effect size increases the power of a statistical test.  
- Sample size ($n$): Increasing the sample size increases the power of a statistical test. Variance of the estimated difference in means is related to the variance of underlying variable $X$ and the sample size. As sample size increases, the variance of the estimated difference in meanse reduces thereby increasing power. A reduction in variance of $X$ also reduces the variance of the estimated difference in means (control and treatment group). 

For instance, in evaluating an education project, we can work with sample or individuals whose outcomes we expect to be relatively homogeneous. To do so, we can focus on kids in a single grade of primary school or work with a narrow age range instead of working with children in all grades.

::: {.callout-caution collapse="true"}
What you gain in terms of power you loose in terms of external validity.
:::


